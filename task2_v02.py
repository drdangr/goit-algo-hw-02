from collections import deque


def is_palindrome(text: str) -> bool:
    """
    –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î —Ä—è–¥–æ–∫ –ø–∞–ª—ñ–Ω–¥—Ä–æ–º–æ–º.
    –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—é —á–µ—Ä–≥—É (deque)
    —ñ–≥–Ω–æ—Ä—É—î –ø—Ä–æ–±—ñ–ª–∏ —Ç–∞ —Ä–µ–≥—ñ—Å—Ç—Ä
    """
    # –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –ø—Ä–æ–±—ñ–ª–∏ —Ç–∞ –Ω–µ–∞–ª—Ñ–∞–Ω—É–º–µ—Ä–∏—á–Ω—ñ —Å–∏–º–≤–æ–ª–∏, –ø–µ—Ä–µ–≤–æ–¥–∏–º–æ –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
    cleaned = ''.join(ch.lower() for ch in text if ch.isalnum())

    # –°—Ç–≤–æ—Ä—é—î–º–æ deque –∑ –æ—á–∏—â–µ–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
    chars = deque(cleaned)

    # –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ —Å–∏–º–≤–æ–ª–∏ –∑ –æ–±–æ—Ö –∫—ñ–Ω—Ü—ñ–≤
    while len(chars) > 1:
        # –í–∏—Ç—è–≥–∞—î–º–æ –ª—ñ–≤–∏–π —Ç–∞ –ø—Ä–∞–≤–∏–π —Å–∏–º–≤–æ–ª–∏
        left = chars.popleft()
        right = chars.pop()

        # –Ø–∫—â–æ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è ‚Äî —Ü–µ –Ω–µ –ø–∞–ª—ñ–Ω–¥—Ä–æ–º
        if left != right:
            return False

    # –Ø–∫—â–æ –≤—Å—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω–æ ‚Äî —Ü–µ –ø–∞–ª—ñ–Ω–¥—Ä–æ–º
    return True


def main():
    print("=== –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—è–¥–∫–∞ –Ω–∞ –ø–∞–ª—ñ–Ω–¥—Ä–æ–º ===")
    print("–í–≤–µ–¥—ñ—Ç—å —Ä—è–¥–æ–∫ (0 ‚Äî –≤–∏—Ö—ñ–¥)\n")

    while True:
        s = input(">> ")

        if s == "0":
            print("üëã –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏.")
            break

        if is_palindrome(s):
            print(f"—Ç–∞–∫, \"{s}\" ‚Äî –ø–∞–ª—ñ–Ω–¥—Ä–æ–º.\n")
        else:
            print(f"–Ω—ñ, \"{s}\" ‚Äî –Ω–µ –ø–∞–ª—ñ–Ω–¥—Ä–æ–º.\n")


if __name__ == "__main__":
    main()
